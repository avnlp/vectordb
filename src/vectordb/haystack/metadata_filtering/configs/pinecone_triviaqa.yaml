# Pinecone metadata filtering configuration for TriviaQA dataset
# Production config for question-answering with evidence retrieval

pinecone:
  api_key: "${PINECONE_API_KEY}"
  index_name: "triviaqa-metadata-filtered"
  environment: "${PINECONE_ENV:-us-west1-gcp}"

collection:
  name: "triviaqa_metadata_filtered"
  description: "TriviaQA dataset with metadata filtering for evidence retrieval"

dataloader:
  type: "haystack"
  dataset_name: "trivia_qa"
  config: "rc"
  split: "test"
  limit: 1000

embeddings:
  model: "Qwen/Qwen3-Embedding-0.6B"
  dimension: 384
  batch_size: 32

metadata_filtering:
  test_query: "What is the capital of France?"

  schema:
    - field: "question"
      type: "string"
      operators: ["eq", "contains"]
      description: "Original question text"

    - field: "id"
      type: "string"
      operators: ["eq", "in"]
      description: "Context document ID"

    - field: "title"
      type: "string"
      operators: ["eq", "contains", "in"]
      description: "Wikipedia article title"

  test_filters:
    - name: "by_title"
      description: "Filter by specific Wikipedia article title"
      conditions:
        - field: "title"
          operator: "eq"
          value: "France"

    - name: "by_id"
      description: "Filter by document ID"
      conditions:
        - field: "id"
          operator: "eq"
          value: "1"

logging:
  level: "INFO"
  name: "pinecone_triviaqa_metadata_filtering"
