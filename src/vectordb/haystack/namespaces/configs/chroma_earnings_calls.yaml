# Chroma namespace pipeline for Earnings Calls dataset
pipeline:
  name: "chroma_earnings_calls_namespaces"
  description: "Chroma namespace pipeline for Earnings Calls dataset using collection-per-namespace"
  database: "chroma"
  dataset: "earnings_calls"

chroma:
  persist_directory: "${CHROMA_PERSIST_DIR}"
  host: ""
  port: ""

collection:
  name: "earnings"
  description: "Earnings calls dataset with ticker-based collection isolation"

namespaces:
  strategy: "ticker"
  prefix: "earnings"
  definitions:
    - name: "earnings_AAPL"
      ticker: "AAPL"
      description: "Apple Inc. earnings calls"
    - name: "earnings_MSFT"
      ticker: "MSFT"
      description: "Microsoft Corp. earnings calls"
    - name: "earnings_GOOGL"
      ticker: "GOOGL"
      description: "Alphabet Inc. earnings calls"
    - name: "earnings_AMZN"
      ticker: "AMZN"
      description: "Amazon.com Inc. earnings calls"
    - name: "earnings_META"
      ticker: "META"
      description: "Meta Platforms Inc. earnings calls"

dataloader:
  type: "haystack"
  class: "EarningsCallDataloader"
  dataset_name: "lamini/earnings-calls-qa"
  filter_field: "ticker"
  limit: 500

embeddings:
  model: "Qwen/Qwen3-Embedding-0.6B"
  dimension: 1024
  batch_size: 32
  model_kwargs:
    trust_remote_code: true

indexing:
  batch_size: 100

test_queries:
  sample_size: 5
  sample_from: "dataset"
  sample_field: "question"
  custom_queries:
    - "What was the revenue growth?"
    - "How did margins perform this quarter?"
    - "What is the guidance for next quarter?"

cross_namespace:
  enabled: true
  compare_namespaces: ["earnings_AAPL", "earnings_MSFT", "earnings_GOOGL"]
  top_k: 10

metrics:
  collect_timing: true
  collect_stats: true
  log_results: true

logging:
  level: "INFO"
  name: "chroma_earnings_calls_namespaces"
