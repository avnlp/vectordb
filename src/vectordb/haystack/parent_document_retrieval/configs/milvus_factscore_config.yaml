# Haystack Parent Document Retrieval Configuration
# Database: Milvus
# Dataset: factscore

logging:
  name: haystack_parent_doc_milvus_factscore
  level: INFO

# Embedding model configuration (Qwen3-Embedding-0.6B - 1024 dimensions)
embeddings:
  model: Qwen/Qwen3-Embedding-0.6B

# Chunking configuration
chunking:
  child_chunk_size: 200
  child_chunk_overlap: 50
  parent_chunk_size: 1000
  parent_chunk_overlap: 100

# Retrieval configuration
retrieval:
  top_k: 5
  mode: with_parents  # Options: with_parents, children_only, context_window
  context_window: 1
  oversample_factor: 3

# Dataloader configuration
dataloader:
  type: factscore
  dataset_name: dskar/FActScore
  split: test
  index_limit: 500
  eval_limit: 100

# Generator for answer summarization (required for this dataset)
generator:
  model: llama-3.3-70b-versatile
  api_key: ${GROQ_API_KEY}

# Database configuration
database:
  type: milvus

  milvus:
    # Zilliz Cloud connection (set env vars or uncomment and fill)
    uri: ${ZILLIZ_CLOUD_URI}
    token: ${ZILLIZ_CLOUD_TOKEN}
    # Local fallback
    # host: localhost
    # port: 19530
    alias: default
    collection_name: parent_doc_children_factscore
    index_params:
      metric_type: IP
      index_type: IVF_FLAT
      nlist: 128
      nprobe: 10
